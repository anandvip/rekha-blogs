<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climate Change and Your Home Insurance: What Canadian Homeowners Need to Know</title>
    <style>
        :root {
            --primary-color: #0055a4;
            --secondary-color: #e71d36;
            --accent-color: #4caf50;
            --text-color: #333333;
            --light-bg: #f8f9fa;
            --white: #ffffff;
            --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-main);
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-bg);
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--white);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .tagline {
            font-style: italic;
            color: #666;
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 15px;
            line-height: 1.3;
        }
        
        .meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
        }
        
        .audio-player {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .audio-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .audio-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .play-button {
            background-color: var(--white);
            color: var(--primary-color);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .play-button:hover {
            background-color: #f0f0f0;
        }
        
        .play-button i {
            font-size: 20px;
        }
        
        .progress-container {
            flex-grow: 1;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--white);
            width: 0%;
            border-radius: 4px;
            transition: width 0.1s linear;
        }
        
        .time-display {
            font-size: 14px;
            font-family: monospace;
        }
        
        .featured-image {
            width: 100%;
            height: 361px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        
        .blog-content {
            margin-bottom: 30px;
        }
        
        .blog-content p {
            margin-bottom: 20px;
        }
        
        .blog-content h2 {
            color: var(--primary-color);
            margin: 30px 0 15px;
        }
        
        .cta-section {
            background-color: var(--light-bg);
            padding: 25px;
            border-radius: 8px;
            margin: 30px 0;
            text-align: center;
        }
        
        .cta-button {
            display: inline-block;
            background-color: var(--accent-color);
            color: white;
            padding: 12px 24px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 15px;
            transition: background-color 0.2s;
        }
        
        .cta-button:hover {
            background-color: #3d8b40;
        }
        
        .author-section {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .author-image-container {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex-shrink: 0;
        }
        
        .author-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .author-info h3 {
            margin-bottom: 5px;
            color: var(--primary-color);
        }
        
        .social-share {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .social-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            text-decoration: none;
            transition: transform 0.2s;
        }
        
        .social-icon:hover {
            transform: scale(1.1);
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            color: #666;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .featured-image {
                height: 200px;
            }
            
            .author-section {
                flex-direction: column;
                text-align: center;
            }
            
            .audio-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .audio-title {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Add toast notification for audio player */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            display: none;
            z-index: 1000;
            max-width: 300px;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Canadian Shield Insurance</div>
            <div class="tagline">Protecting Canadians with confidence and care</div>
        </header>
        
        <h1>Climate Change and Your Home Insurance: What Canadian Homeowners Need to Know in 2025</h1>
        
        <div class="meta">
            <span>Posted on March 29, 2025</span>
            <span>By Rekha Sagwal, Senior Insurance Agent</span>
        </div>
        
        <div class="audio-player">
            <div class="audio-title">
                <span><i class="fas fa-headphones"></i> Listen to this article</span>
                <span class="time-display">0:00 / 0:00</span>
            </div>
            <div class="audio-controls">
                <button class="play-button" id="playButton">
                    <i class="fas fa-play" id="playIcon"></i>
                </button>
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
        </div>
        
        <img src="https://raw.githubusercontent.com/anandvip/rekha-blogs/refs/heads/main/floodhouse.jpg" alt="House in flood waters with Canadian flag" class="featured-image">
        
        <div class="blog-content" id="blogContent">
            <p>As we step further into 2025, Canadian homeowners are facing an increasingly complex insurance landscape. Climate change isn't just a distant threat—it's already affecting insurance premiums, coverage options, and claim frequencies across our beautiful country.</p>
            
            <p>From the increased flooding in British Columbia to the intensifying winter storms in Ontario and Quebec, to the expanding wildfire seasons in Alberta—Canadians everywhere are experiencing the impacts of our changing climate firsthand.</p>
            
            <h2>Rising Premiums: What's Behind the Increase?</h2>
            
            <p>If you've noticed your home insurance premiums increasing over the past few years, you're not alone. According to the Insurance Bureau of Canada, property insurance claims related to severe weather have more than quadrupled across Canada in the last decade, now exceeding $2.4 billion annually.</p>
            
            <p>This isn't just about repairing damage after disasters strike—it's about the insurance industry adjusting to a new normal where extreme weather events are becoming more frequent and severe. Insurers are having to recalculate risk models that were developed in a more stable climate era.</p>
            
            <h2>New Coverage Considerations for Canadian Homeowners</h2>
            
            <p>Standard home insurance policies in Canada are evolving in response to climate change. Here are some key areas you should be reviewing in your current policy:</p>
            
            <p>1. <strong>Overland Flood Coverage</strong>: Once considered uninsurable, many Canadian insurers now offer optional coverage for overland flooding. If you live near a body of water or in a low-lying area, this coverage is becoming essential rather than optional.</p>
            
            <p>2. <strong>Wildfire Protection</strong>: In provinces like British Columbia and Alberta where wildfire risks have increased, insurers are looking more closely at proximity to forested areas and community fire protection resources. Some policies now include measures to help protect homes during fire events.</p>
            
            <p>3. <strong>Sewer Backup Coverage</strong>: With more intense rainfall events, sewer backup incidents are increasing in urban areas. This coverage, often offered as an add-on, is becoming more important for homeowners in cities like Toronto, Montreal, and Vancouver.</p>
            
            <h2>What Can Canadian Homeowners Do?</h2>
            
            <p>In the face of these changes, proactive measures can help protect both your home and your financial wellbeing:</p>
            
            <p>1. <strong>Review Your Policy Annually</strong>: Climate risks are evolving rapidly. What was adequate coverage last year might not be sufficient today.</p>
            
            <p>2. <strong>Invest in Resilience</strong>: Many insurers now offer discounts for homes with climate-resilient features like backwater valves, sump pumps with battery backups, impact-resistant roofing, and fire-resistant landscaping.</p>
            
            <p>3. <strong>Understand Your Local Risks</strong>: Climate change impacts vary significantly across Canada's diverse geography. Understanding the specific risks in your region can help you prioritize appropriate coverage.</p>
            
            <p>4. <strong>Consider Higher Deductibles</strong>: If you can afford to pay more out-of-pocket in the event of a claim, opting for a higher deductible can help manage premium increases while maintaining essential coverage.</p>
            
            <h2>The Canadian Advantage: Government Programs</h2>
            
            <p>Unlike many other countries, Canada has several government programs designed to help homeowners with climate-related disasters. The Disaster Financial Assistance Arrangements (DFAA) provides federal funding to provinces for disaster recovery, while programs like the National Disaster Mitigation Program focus on reducing flood risks.</p>
            
            <p>Additionally, the recently expanded Flood Hazard Identification and Mapping Program is helping Canadians better understand their flood risks—information that's crucial for making informed insurance decisions.</p>
            
            <h2>Looking Forward: The Future of Home Insurance in Canada</h2>
            
            <p>As we move through 2025 and beyond, expect to see more innovations in the Canadian insurance market. These may include more sophisticated risk-based pricing (with both penalties and incentives), increased use of technology for risk assessment, and potentially new insurance products designed specifically for climate-related perils.</p>
            
            <p>The key takeaway? The relationship between climate change and home insurance is complex and evolving. Staying informed and working with a knowledgeable insurance advisor who understands the Canadian context is more important than ever.</p>
        </div>
        
        <div class="cta-section">
            <h2>Protect Your Home in Changing Times</h2>
            <p>Uncertain about whether your current policy provides adequate protection against climate-related risks? I'm here to help you navigate these changes with confidence.</p>
            <a href="https://anandvip.github.io/rekha-2-canada/#contact" class="cta-button">Schedule a Free Policy Review</a>
        </div>
        
        <div class="author-section">
            <div class="author-image-container">
                <img src="https://raw.githubusercontent.com/anandvip/rekha-blogs/refs/heads/main/img/rekhasagwal-profileimage.jpg" alt="Rekha Sagwal" class="author-image">
            </div>
            <div class="author-info">
                <h3>Rekha Sagwal</h3>
                <p>FSRA licenced Insurance Agent with 2 years of experience helping Canadian homeowners protect what matters most. Specialized in climate risk assessment and personalized coverage solutions.</p>
            </div>
        </div>
        
        <div class="social-share">
            <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
        </div>
        
        <footer>
            <p>© 2025 Canadian Shield Insurance. This blog is for informational purposes only and does not constitute professional insurance advice.</p>
        </footer>
    </div>

    <div class="toast" id="toast">Voice not available. Using default voice.</div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Extract and store the blog content
            function extractArticleText() {
                const blogContent = document.getElementById('blogContent');
                
                // Storage for all our text chunks
                const textData = {
                    title: document.querySelector('h1').textContent,
                    paragraphs: [],
                    fullText: ''
                };
                
                // Process all content elements (paragraphs and headers)
                const contentElements = Array.from(blogContent.querySelectorAll('p, h2'));
                
                contentElements.forEach(element => {
                    // Special handling for headers
                    const isPause = element.tagName === 'H2';
                    const text = element.textContent.trim();
                    
                    // Handle list items specially - split numbered lists for better reading
                    if (text.match(/^\d+\.\s+/) && text.length > 50) {
                        // This looks like a numbered list item, try to make it sound better
                        const textWithPauses = text.replace(/(\.\s+)([A-Z])/g, '$1 ... $2');
                        
                        // Add to our paragraphs array with metadata
                        textData.paragraphs.push({
                            text: textWithPauses,
                            isPause: isPause,
                            element: element
                        });
                    } else {
                        // Regular paragraph or header
                        textData.paragraphs.push({
                            text: text,
                            isPause: isPause,
                            element: element // Keep reference to scroll to it
                        });
                    }
                });
                
                // Create full text with appropriate pauses
                textData.fullText = textData.paragraphs.map(p => {
                    return p.isPause ? '... ' + p.text + ' ...' : p.text;
                }).join('. ');
                
                // Clear any previous storage to avoid conflicts
                localStorage.removeItem('blogAudioText');
                
                // Store in sessionStorage instead of localStorage for better performance
                // and to avoid persisting unnecessarily between visits
                sessionStorage.setItem('blogAudioText', JSON.stringify(textData));
                
                return textData;
            }
            
            // Get or initialize the article text
            let articleText = sessionStorage.getItem('blogAudioText') ? 
                              JSON.parse(sessionStorage.getItem('blogAudioText')) : 
                              extractArticleText();
                              
            // Force extraction on every page load to ensure freshness
            articleText = extractArticleText();
            
            // Audio Player implementation
            const playButton = document.getElementById('playButton');
            const playIcon = document.getElementById('playIcon');
            const progressBar = document.getElementById('progressBar');
            const progressContainer = document.getElementById('progressContainer');
            const timeDisplay = document.querySelector('.time-display');
            const toast = document.getElementById('toast');
            
            // Audio state
            let isPlaying = false;
            let currentUtterance = null;
            let currentParagraphIndex = 0;
            let synth = window.speechSynthesis;
            let totalDuration = 0;
            let currentTime = 0;
            let startTime = 0;
            let animationId = null;
            let voices = [];
            let preferredVoice = null;
            
            // Calculate approximate total duration (150 words per minute is average speaking pace)
            function calculateDuration(text) {
                const words = text.split(/\s+/).length;
                return Math.ceil(words / 150 * 60); // Convert to seconds
            }
            
            totalDuration = calculateDuration(articleText.fullText);
            
            // Format time for display (MM:SS)
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' + secs : secs}`;
            }
            
            // Update time display initially
            timeDisplay.textContent = `0:00 / ${formatTime(totalDuration)}`;
            
            // Load available voices and set preferred voice
            function loadVoices() {
                voices = synth.getVoices();
                
                // Find the best English female voice
                preferredVoice = voices.find(voice => 
                    voice.lang.startsWith('en-CA') && 
                    voice.name.toLowerCase().includes('female')
                );
                
                // If no Canadian female voice, try any English female
                if (!preferredVoice) {
                    preferredVoice = voices.find(voice => 
                        voice.lang.startsWith('en') && 
                        voice.name.toLowerCase().includes('female')
                    );
                }
                
                // Fallback to any English voice
                if (!preferredVoice) {
                    preferredVoice = voices.find(voice => voice.lang.startsWith('en'));
                }
                
                // Last resort: first available voice
                if (!preferredVoice && voices.length > 0) {
                    preferredVoice = voices[0];
                    
                    // Show toast notification if using default voice
                    toast.style.display = 'block';
                    setTimeout(() => {
                        toast.style.display = 'none';
                    }, 3000);
                }
            }
            
            // Call loadVoices right away
            loadVoices();
            
            // And when voices are loaded asynchronously
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }
            
            // Play/pause toggle
            playButton.addEventListener('click', togglePlayPause);
            
            function togglePlayPause() {
                if (!isPlaying) {
                    startPlaying();
                } else {
                    pausePlaying();
                }
            }
            
            // Start playback
            function startPlaying() {
                // Cancel any existing speech
                synth.cancel();
                
                isPlaying = true;
                playIcon.className = 'fas fa-pause';
                startTime = Date.now() - (currentTime * 1000);
                
                speakCurrentParagraph();
                updateProgress();
            }
            
            // Pause playback
            function pausePlaying() {
                isPlaying = false;
                playIcon.className = 'fas fa-play';
                
                // Store current position
                currentTime = (Date.now() - startTime) / 1000;
                
                // Cancel speech rather than pause - more reliable across browsers
                synth.cancel();
                
                // Stop progress bar animation
                if (animationId) {
                    cancelAnimationFrame(animationId);
                    animationId = null;
                }
                
                // Show user feedback
                toast.textContent = "Playback paused";
                toast.style.display = 'block';
                setTimeout(() => {
                    toast.style.display = 'none';
                }, 1500);
            }
            
            // Reset playback
            function resetPlayback() {
                isPlaying = false;
                playIcon.className = 'fas fa-play';
                currentTime = 0;
                currentParagraphIndex = 0;
                progressBar.style.width = '0%';
                timeDisplay.textContent = `0:00 / ${formatTime(totalDuration)}`;
                
                if (animationId) {
                    cancelAnimationFrame(animationId);
                    animationId = null;
                }
                
                synth.cancel();
            }
            
            // Speak the current paragraph
            // Break text into smaller chunks for more reliable speech
            function splitIntoSentences(text) {
                // Split on periods followed by space or end of string
                // But be careful about decimal numbers, abbreviations, etc.
                return text.split(/\.(?=\s|$)/).map(s => s.trim()).filter(s => s.length > 0);
            }
            
            function speakCurrentParagraph() {
                if (currentParagraphIndex >= articleText.paragraphs.length) {
                    resetPlayback();
                    return;
                }
                
                const paragraph = articleText.paragraphs[currentParagraphIndex];
                
                // Break paragraph into sentences for more reliable playback
                const sentences = paragraph.isPause ? 
                                  [paragraph.text] : // Keep headers as single units
                                  splitIntoSentences(paragraph.text);
                
                // Create and queue each sentence as a separate utterance
                sentences.forEach((sentence, index) => {
                    // Add the period back that was removed in the split
                    const textToSpeak = sentence + (sentence.endsWith('.') ? '' : '.');
                    
                    const utterance = new SpeechSynthesisUtterance(textToSpeak);
                    
                    // Configure speech parameters
                    utterance.rate = 0.95; // Slightly slower for better comprehension
                    utterance.pitch = 1.0;
                    utterance.volume = 1.0;
                    
                    // Use preferred voice if available
                    if (preferredVoice) {
                        utterance.voice = preferredVoice;
                    }
                    
                    // Only handle paragraph completion on the last sentence
                    if (index === sentences.length - 1) {
                        utterance.onend = function() {
                            // Scroll to the paragraph that was just read
                            if (paragraph.element) {
                                paragraph.element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }
                            
                            // Move to next paragraph
                            currentParagraphIndex++;
                            
                            // Continue if still playing
                            if (isPlaying) {
                                // Add a small delay between paragraphs
                                setTimeout(speakCurrentParagraph, 300);
                            }
                        };
                    }
                    
                    // Handle errors
                    utterance.onerror = function(event) {
                        console.error('SpeechSynthesis error:', event);
                        // If error on last sentence, move to next paragraph
                        if (index === sentences.length - 1) {
                            currentParagraphIndex++;
                            if (isPlaying) {
                                speakCurrentParagraph();
                            }
                        }
                    };
                    
                    // Queue this sentence
                    synth.speak(utterance);
                });
            }
            
            // Update progress bar and time display
            function updateProgress() {
                if (!isPlaying) return;
                
                currentTime = (Date.now() - startTime) / 1000;
                
                // Calculate progress percentage
                const progressPercent = (currentTime / totalDuration) * 100;
                progressBar.style.width = `${Math.min(progressPercent, 100)}%`;
                
                // Update time display
                timeDisplay.textContent = `${formatTime(currentTime)} / ${formatTime(totalDuration)}`;
                
                // End if reached duration
                if (currentTime >= totalDuration) {
                    resetPlayback();
                    return;
                }
                
                // Continue animation
                animationId = requestAnimationFrame(updateProgress);
            }
            
            // Seek functionality - when user clicks on progress bar
            progressContainer.addEventListener('click', function(e) {
                const rect = progressContainer.getBoundingClientRect();
                const clickPosition = (e.clientX - rect.left) / rect.width;
                
                // Limit to valid range
                const seekPosition = Math.max(0, Math.min(1, clickPosition));
                
                // Update time and progress bar
                currentTime = totalDuration * seekPosition;
                progressBar.style.width = `${seekPosition * 100}%`;
                timeDisplay.textContent = `${formatTime(currentTime)} / ${formatTime(totalDuration)}`;
                
                // Find the appropriate paragraph to start from
                const paragraphCount = articleText.paragraphs.length;
                currentParagraphIndex = Math.floor(seekPosition * paragraphCount);
                
                // Ensure within valid range
                currentParagraphIndex = Math.min(currentParagraphIndex, paragraphCount - 1);
                
                // If playing, restart from new position
                if (isPlaying) {
                    synth.cancel();
                    startTime = Date.now() - (currentTime * 1000);
                    speakCurrentParagraph();
                }
            });
            
            // Handle page visibility changes - pause when tab not visible
            document.addEventListener('visibilitychange', function() {
                if (document.hidden && isPlaying) {
                    pausePlaying();
                }
            });
            
            // Clean up on page exit
            window.addEventListener('beforeunload', function() {
                synth.cancel();
            });
        });
    </script>
</body>
</html>
